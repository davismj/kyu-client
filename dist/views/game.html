<template>
	<require from="../components/card"></require>
	<require from="../components/board"></require>

	<!-- if ended -->
	<div class="modal text-center enter-top ${game.status == 'ended' ? 'show' : ''}">
		<div>
			<h1>${game.winner ? (game.winner + ' wins!') : 'Draw.'}</h1>
			<button click.delegate="newGame()">Play again?</button>
		</div>
	</div>
	
	<section>
		<div class="player-name text-left">${player2}</div>
		<div class="hand ${game.turn == player2 ? 'is-active' : ''}">
			<card class="lost" model.bind="card" repeat.for="card of game.hands.get(player2)"></card>
		</div>
		<board game.bind="game"></board>
		<div class="hand ${game.turn == player1 ? 'is-active' : ''}">
			<card class="won" model.bind="card" draggable="true" dragstart.delegate="$parent.onCardDragstart($event)" repeat.for="card of game.hands.get(player1)"></card>
		</div>		
		<div class="player-name text-right">${player1}</div>
	</section>

	<button click.delegate="currentView = 'start'"></button>
</template>