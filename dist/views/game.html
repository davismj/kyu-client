<template>
	<require from="../components/card"></require>
	<require from="../components/board"></require>

	<!-- if playing -->
	<template if.bind="game.status == 'playing'">
		<h1>${game.turn}'s turn</h1>
	</template>

	<!-- if ended -->
	<template if.bind="game.status == 'ended'">
		<h1>${game.winner ? (game.winner + ' wins!') : 'Draw.'}</h1>
		<button click.delegate="newGame()">Play again?</button>
	</template>

	<section>
		<div class="hand">
			<card model.bind="card" draggable="true" dragstart.delegate="$parent.onCardDragstart($event)" repeat.for="card of game.hands.get(player2)"></card>
		</div>
		<board game.bind="game"></board>
		<div class="hand">
			<card model.bind="card" draggable="true" dragstart.delegate="$parent.onCardDragstart($event)" repeat.for="card of game.hands.get(player1)"></card>
		</div>
	</section>
</template>