<template>
	<require from="components/card"></require>
	<require from="components/board"></require>

	<!-- if ended -->
	<div class="modal text-center enter-top ${game.status == 'ended' ? 'show' : ''}">
		<div>
			<h1>${game.winner ? (game.winner + ' wins!') : 'Draw.'}</h1>
			<button click.delegate="newGame()">Play again?</button>
		</div>
	</div>
	
	<section>
		<div class="player-name text-left ${game.turn == player2 ? 'is-active' : ''}">
			${player2}
		</div>
		<div class="hand">
			<card class="lost" model.bind="card" repeat.for="card of game.hands.get(player2)"></card>
		</div>
		<board game.bind="game"></board>
		<div class="hand">
			<card class="won" model.bind="card" repeat.for="card of game.hands.get(player1)"
				mousedown.delegate="$parent.onMousedown($event)"
				touchstart.delegate="$parent.onTouchstart($event)"></card>
		</div>		
		<div class="player-name text-right ${game.turn == player1 ? 'is-active' : ''}">
			${player1}
		</div>
	</section>
</template>