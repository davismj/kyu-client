<template>
	<require from="../components/card"></require>
	<require from="../components/board"></require>

	<!-- if playing -->
	<template if.bind="game.status == 'playing'">
		<h1>${game.turn}'s turn</h1>
	</template>

	<!-- if ended -->
	<div class="modal text-center enter-top ${game.status == 'ended' ? 'show' : ''}">
		<div>
			<h1>${game.winner ? (game.winner + ' wins!') : 'Draw.'}</h1>
			<button click.delegate="newGame()">Play again?</button>
		</div>
	</div>
	
	<section>
		<div class="hand">
			<card class="lost" model.bind="card" draggable="true" dragstart.delegate="$parent.onCardDragstart($event)" repeat.for="card of game.hands.get(player2)"></card>
		</div>
		<board game.bind="game"></board>
		<div class="hand">
			<card class="won" model.bind="card" draggable="true" dragstart.delegate="$parent.onCardDragstart($event)" repeat.for="card of game.hands.get(player1)"></card>
		</div>
	</section>
</template>